"use strict";(self.webpackChunkgo_labx_github_io=self.webpackChunkgo_labx_github_io||[]).push([[396],{9613:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var a=n(9496);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},f=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=c(n),f=r,m=p["".concat(l,".").concat(f)]||p[f]||d[f]||o;return n?a.createElement(m,i(i({ref:t},u),{},{components:n})):a.createElement(m,i({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=f;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:r,i[1]=s;for(var c=2;c<o;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}f.displayName="MDXCreateElement"},5453:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var a=n(1163),r=(n(9496),n(9613));const o={},i="Contextual data",s={unversionedId:"examples/contextual-data",id:"examples/contextual-data",title:"Contextual data",description:"The Lightning framework provides a powerful feature called Contextual Data that allows developers to store and retrieve data within the context of a request. This feature is particularly useful for storing session data, user information, and other request-specific data.",source:"@site/docs/examples/contextual-data.md",sourceDirName:"examples",slug:"/examples/contextual-data",permalink:"/docs/examples/contextual-data",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Validation",permalink:"/docs/validation"},next:{title:"Cookie",permalink:"/docs/examples/cookie"}},l={},c=[],u={toc:c},p="wrapper";function d(e){let{components:t,...n}=e;return(0,r.kt)(p,(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"contextual-data"},"Contextual data"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"Lightning")," framework provides a powerful feature called ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Contextual Data"))," that allows developers to store and retrieve data within the context of a request. This feature is particularly useful for storing session data, user information, and other request-specific data."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'package main\n\nimport (\n    "fmt"\n\n    "github.com/go-labx/lightning"\n)\n\nfunc main() {\n    app := lightning.NewApp()\n\n    // Middleware to set session data\n    app.Use(func(ctx *lightning.Context) {\n        ctx.SetData("session", map[string]interface{}{\n            "userId":   123,\n            "username": "Jack",\n        })\n        ctx.Next()\n    })\n\n    // Middleware to get session data\n    app.Use(func(ctx *lightning.Context) {\n        session := ctx.GetData("session")\n        // write your logic here...\n        fmt.Println(session)\n\n        ctx.Next()\n    })\n\n    // Route to handle GET request to /api/user\n    app.Get("/api/user", func(ctx *lightning.Context) {\n        session := ctx.GetData("session")\n        // write your logic here...\n        fmt.Println(session)\n\n        ctx.Text(200, "hello world")\n    })\n\n    // Run the app\n    app.Run()\n}\n')),(0,r.kt)("p",null,"In the provided code block, we can see an example of how to use the Contextual Data feature in the ",(0,r.kt)("inlineCode",{parentName:"p"},"Lightning")," framework. The code sets up two middleware functions that use the ",(0,r.kt)("inlineCode",{parentName:"p"},"ctx.SetData()")," method to store session data in the context of the request. The first middleware function sets the session data, while the second middleware function retrieves the session data using the ",(0,r.kt)("inlineCode",{parentName:"p"},"ctx.GetData()")," method."),(0,r.kt)("p",null,"In addition to middleware functions, the Contextual Data feature can also be used in route handlers. In the provided code block, we can see an example of a route handler that retrieves the session data using the ",(0,r.kt)("inlineCode",{parentName:"p"},"ctx.GetData()")," method."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'app.Get("/api/user", func(ctx *lightning.Context) {\n    session := ctx.GetData("session")\n    // write your logic here...\n})\n')),(0,r.kt)("p",null,"Overall, the ",(0,r.kt)("strong",{parentName:"p"},"Contextual Data")," feature in the ",(0,r.kt)("inlineCode",{parentName:"p"},"Lightning")," framework provides a powerful and flexible way to store and retrieve data within the context of a request. By using this feature, developers can easily manage session data, user information, and other request-specific data in their applications."))}d.isMDXComponent=!0}}]);