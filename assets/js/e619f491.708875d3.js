"use strict";(self.webpackChunkgo_labx_github_io=self.webpackChunkgo_labx_github_io||[]).push([[1316],{9613:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var r=n(9496);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=c(n),f=i,m=d["".concat(s,".").concat(f)]||d[f]||u[f]||a;return n?r.createElement(m,o(o({ref:t},p),{},{components:n})):r.createElement(m,o({ref:t},p))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,o=new Array(a);o[0]=f;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:i,o[1]=l;for(var c=2;c<a;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},5635:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>c});var r=n(1163),i=(n(9496),n(9613));const a={},o="static",l={unversionedId:"middlewares/static",id:"middlewares/static",title:"static",description:"The static middleware is a Go package that provides a middleware for serving static files over HTTP.",source:"@site/docs/middlewares/static.md",sourceDirName:"middlewares",slug:"/middlewares/static",permalink:"/docs/middlewares/static",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"middlewareSidebar",previous:{title:"cors",permalink:"/docs/middlewares/cors"},next:{title:"pprof",permalink:"/docs/middlewares/pprof"}},s={},c=[{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"How it works",id:"how-it-works",level:2},{value:"API Documentation",id:"api-documentation",level:2}],p={toc:c},d="wrapper";function u(e){let{components:t,...n}=e;return(0,i.kt)(d,(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"static"},"static"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"static")," middleware is a Go package that provides a middleware for serving static files over HTTP. "),(0,i.kt)("h2",{id:"installation"},"Installation"),(0,i.kt)("p",null,"To use the ",(0,i.kt)("inlineCode",{parentName:"p"},"static")," middleware in your Go project, you can install it using go get:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"go get github.com/go-labx/lightning-contrib/static\n")),(0,i.kt)("h2",{id:"usage"},"Usage"),(0,i.kt)("p",null,"To use the static middleware in your Go web application, you can import it and add it to your middleware stack:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'package main\n\nimport (\n    "github.com/go-labx/lightning"\n    "github.com/lightning-contrib/static"\n)\n\nfunc main() {\n    app := lightning.DefaultApp()\n\n    // Serve static files from the "./public" directory under the "/static" URL prefix\n    app.Use(static.New(\n        static.WithRoot("./public"), \n        static.WithPrefix("/static")),\n    )\n\n    app.Get("/ping", func(ctx *lightning.Context) {\n        ctx.Text(200, "hello world")\n    })\n\n    app.Run()\n}\n')),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"static.New")," function returns a new instance of the middleware with the provided options. The ",(0,i.kt)("inlineCode",{parentName:"p"},"static.WithRoot")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"static.WithPrefix")," functions are options that can be used to configure the root directory and URL prefix for serving static files."),(0,i.kt)("p",null,"By default, the ",(0,i.kt)("inlineCode",{parentName:"p"},"static"),' middleware serves files from the "./public" directory under the "/static" URL prefix. You can change these defaults by providing your own options to the ',(0,i.kt)("inlineCode",{parentName:"p"},"static.New")," function."),(0,i.kt)("h2",{id:"how-it-works"},"How it works"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"static")," middleware works by intercepting HTTP requests and checking if the requested URL matches the configured URL prefix. If it does, the middleware serves the corresponding file from the configured root directory."),(0,i.kt)("p",null,'For example, if the middleware is configured to serve files from the "./public" directory under the "/static" URL prefix, a request for "/static/css/style.css" would be served from the file "./public/css/style.css".'),(0,i.kt)("p",null,"If the requested file does not exist, the middleware returns a 404 Not Found error."),(0,i.kt)("h2",{id:"api-documentation"},"API Documentation"),(0,i.kt)("p",null,"For detailed API documentation and usage examples, please refer to the ",(0,i.kt)("a",{parentName:"p",href:"https://pkg.go.dev/github.com/lightning-contrib/static"},"documentation"),"."))}u.isMDXComponent=!0}}]);