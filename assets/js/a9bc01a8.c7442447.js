"use strict";(self.webpackChunkgo_labx_github_io=self.webpackChunkgo_labx_github_io||[]).push([[6058],{9613:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>f});var a=n(9496);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),d=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=d(e.components);return a.createElement(s.Provider,{value:t},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=d(n),h=i,f=p["".concat(s,".").concat(h)]||p[h]||c[h]||r;return n?a.createElement(f,o(o({ref:t},u),{},{components:n})):a.createElement(f,o({ref:t},u))}));function f(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[p]="string"==typeof e?e:i,o[1]=l;for(var d=2;d<r;d++)o[d]=n[d];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},866:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var a=n(1163),i=(n(9496),n(9613));const r={},o="Validation",l={unversionedId:"validation",id:"validation",title:"Validation",description:"Lightning is a Go web framework that provides a lot of useful features, including validating user input. In this document, we will explore how to use the validating feature of the Lightning framework.",source:"@site/docs/validation.md",sourceDirName:".",slug:"/validation",permalink:"/docs/validation",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Context",permalink:"/docs/context"},next:{title:"Contextual data",permalink:"/docs/examples/contextual-data"}},s={},d=[{value:"Validating User Input",id:"validating-user-input",level:2},{value:"Defining a Struct",id:"defining-a-struct",level:3},{value:"Binding and Validating User Input",id:"binding-and-validating-user-input",level:3},{value:"Conclusion",id:"conclusion",level:2}],u={toc:d},p="wrapper";function c(e){let{components:t,...n}=e;return(0,i.kt)(p,(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"validation"},"Validation"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Lightning")," is a Go web framework that provides a lot of useful features, including validating user input. In this document, we will explore how to use the validating feature of the ",(0,i.kt)("inlineCode",{parentName:"p"},"Lightning")," framework."),(0,i.kt)("h2",{id:"validating-user-input"},"Validating User Input"),(0,i.kt)("p",null,"Validating user input is an essential part of any web application. It ensures that the data entered by the user is correct and meets the requirements of the application. ",(0,i.kt)("inlineCode",{parentName:"p"},"Lightning")," provides a simple and easy-to-use way to validate user input."),(0,i.kt)("h3",{id:"defining-a-struct"},"Defining a Struct"),(0,i.kt)("p",null,"To validate user input, we first need to define a struct that represents the data we want to validate. In the example code provided, we have defined a ",(0,i.kt)("inlineCode",{parentName:"p"},"User")," struct that contains fields for user data."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'type User struct {\n    Name     string `validate:"required" json:"name"`\n    Password string `validate:"required,min=8,max=32" json:"password"`\n    Email    string `validate:"required,email" json:"email"`\n}\n')),(0,i.kt)("p",null,"In this struct, each field has a validate tag that specifies the validation rules for that field. In this case, the ",(0,i.kt)("inlineCode",{parentName:"p"},"Name")," field is required, the ",(0,i.kt)("inlineCode",{parentName:"p"},"Password")," field is required and must be between 8 and 32 characters long, and the ",(0,i.kt)("inlineCode",{parentName:"p"},"Email")," field is required and must be a valid email address."),(0,i.kt)("p",null,"You can find the detailed descriptions of the ",(0,i.kt)("inlineCode",{parentName:"p"},"validations")," used in the fields contained on the structs below:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://pkg.go.dev/github.com/go-playground/validator?tab=doc"},"Detailed docs"))),(0,i.kt)("h3",{id:"binding-and-validating-user-input"},"Binding and Validating User Input"),(0,i.kt)("p",null,"Once you have defined your validation struct, you can use it to validate incoming request data. In the following example, we use the ",(0,i.kt)("inlineCode",{parentName:"p"},"JSONBody")," method to bind and validate the request body to the User struct:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'app.Post("/validate", func(ctx *lightning.Context) {\n    // Create a new User struct\n    var user = &User{}\n\n    // Bind and validate the request body to the User struct\n    if err := ctx.JSONBody(user, true); err != nil {\n        // If there is an error, return it as JSON\n        ctx.Fail(-1, err.Error())\n        return\n    }\n\n    // If there is no error, return the User struct as JSON\n    ctx.Success(user)\n})\n')),(0,i.kt)("p",null,"In this route, we create a new ",(0,i.kt)("inlineCode",{parentName:"p"},"User")," struct and bind the request body to it using the ",(0,i.kt)("inlineCode",{parentName:"p"},"JSONBody")," method. This method automatically validates the input based on the validation tags defined in the struct."),(0,i.kt)("p",null,"If there is an error during validation, the ",(0,i.kt)("inlineCode",{parentName:"p"},"JSONBody")," method returns an error, which we can handle by returning a JSON response with the error message."),(0,i.kt)("p",null,"If there is no error during validation, we can return the User struct as a JSON response."),(0,i.kt)("h2",{id:"conclusion"},"Conclusion"),(0,i.kt)("p",null,"Validating user input is an essential part of any web application. ",(0,i.kt)("inlineCode",{parentName:"p"},"Lightning")," provides a simple and easy-to-use way to validate user input using struct tags. By defining a struct with validation tags and using the ",(0,i.kt)("inlineCode",{parentName:"p"},"JSONBody")," method, we can easily bind and validate user input in our routes."))}c.isMDXComponent=!0}}]);