"use strict";(self.webpackChunkgo_labx_github_io=self.webpackChunkgo_labx_github_io||[]).push([[6058],{9613:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var a=n(9496);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=a.createContext({}),s=function(e){var t=a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=s(e.components);return a.createElement(d.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},f=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,d=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=s(n),f=r,m=c["".concat(d,".").concat(f)]||c[f]||p[f]||i;return n?a.createElement(m,o(o({ref:t},u),{},{components:n})):a.createElement(m,o({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=f;var l={};for(var d in t)hasOwnProperty.call(t,d)&&(l[d]=t[d]);l.originalType=e,l[c]="string"==typeof e?e:r,o[1]=l;for(var s=2;s<i;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}f.displayName="MDXCreateElement"},866:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>s});var a=n(1163),r=(n(9496),n(9613));const i={},o="Validation",l={unversionedId:"validation",id:"validation",title:"Validation",description:"Defining a Struct for Validation",source:"@site/docs/validation.md",sourceDirName:".",slug:"/validation",permalink:"/docs/validation",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Context",permalink:"/docs/context"},next:{title:"Contextual data",permalink:"/docs/examples/contextual-data"}},d={},s=[{value:"Defining a Struct for Validation",id:"defining-a-struct-for-validation",level:2},{value:"Binding and Validating Request Data",id:"binding-and-validating-request-data",level:2},{value:"Conclusion",id:"conclusion",level:2}],u={toc:s},c="wrapper";function p(e){let{components:t,...n}=e;return(0,r.kt)(c,(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"validation"},"Validation"),(0,r.kt)("h2",{id:"defining-a-struct-for-validation"},"Defining a Struct for Validation"),(0,r.kt)("p",null,"To use validation in ",(0,r.kt)("inlineCode",{parentName:"p"},"Lightning"),", you need to define a struct that represents the data you want to validate. For example, let's say you want to validate user data that includes a name, password, and email. You can define a struct like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'type User struct {\n    Name     string `validate:"required" json:"name"`\n    Password string `validate:"required,min=8,max=32" json:"password"`\n    Email    string `validate:"required,email" json:"email"`\n}\n')),(0,r.kt)("p",null,"In this struct, each field has a validate tag that specifies the validation rules for that field. In this case, the ",(0,r.kt)("inlineCode",{parentName:"p"},"Name")," field is required, the ",(0,r.kt)("inlineCode",{parentName:"p"},"Password")," field is required and must be between 8 and 32 characters long, and the ",(0,r.kt)("inlineCode",{parentName:"p"},"Email")," field is required and must be a valid email address."),(0,r.kt)("p",null,"You can find the detailed descriptions of the ",(0,r.kt)("inlineCode",{parentName:"p"},"validations")," used in the fields contained on the structs below:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://pkg.go.dev/github.com/go-playground/validator?tab=doc"},"Detailed docs"))),(0,r.kt)("h2",{id:"binding-and-validating-request-data"},"Binding and Validating Request Data"),(0,r.kt)("p",null,"Once you have defined your validation struct, you can use it to validate incoming request data. In the following example, we use the ",(0,r.kt)("inlineCode",{parentName:"p"},"BindAndValidate")," method to bind and validate the request body to the User struct:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'app.Post("/validate", func(ctx *lightning.Context) {\n    // Create a new User struct\n    var user = &User{}\n\n    // Bind and validate the request body to the User struct\n    if err := ctx.BindAndValidate(user); err != nil {\n        // If there is an error, return it as JSON\n        ctx.JSON(http.StatusOK, lightning.Map{\n            "err": err.Error(),\n        })\n        return\n    }\n\n    // If there is no error, return the User struct as JSON\n    ctx.JSON(http.StatusOK, lightning.Map{\n        "user": user,\n    })\n})\n')),(0,r.kt)("p",null,"In this example, we create a new User struct and then use the ",(0,r.kt)("inlineCode",{parentName:"p"},"BindAndValidate")," method to bind and validate the request body to the struct. If there is an error, we return it as JSON. If there is no error, we return the User struct as JSON."),(0,r.kt)("h2",{id:"conclusion"},"Conclusion"),(0,r.kt)("p",null,"Validation is an important feature in web development, and ",(0,r.kt)("inlineCode",{parentName:"p"},"Lightning")," makes it easy to validate incoming request data. By defining a validation struct and using the ",(0,r.kt)("inlineCode",{parentName:"p"},"BindAndValidate")," method, you can ensure that your application only processes valid data."))}p.isMDXComponent=!0}}]);